{"version":3,"sources":["math.js","random.js","Player.js","Ball.js","InputManager.js","ParticleSystem.js","Game.js","App.js","reportWebVitals.js","index.js"],"names":["getDistance","x1","y1","x2","y2","Math","sqrt","getRandom","min","max","random","getRandomInteger","floor","Player","game","this","x","y","w","h","score","speed","randomTick","randomValue","canvas","height","demo","player1","player2","ctx","fillStyle","fillRect","delta","isCPU","cpu","opposing","opposingDistance","ballDistance","ball","abs","inputManager","isKeyDown","isControlling","Ball","r","vx","vy","trailTick","bounces","width","contactX","contactY","bounceForce","particleSystem","spawnParticles","beginPath","arc","PI","fill","closePath","pow","getSpeed","bounceEffect","collidesWithRect","handleCollision","player","center","getCenter","angleRadians","atan2","vector","cos","sin","rect","circle","distX","distY","dx","dy","InputManager","keyboard","Object","create","mousePosition","events","window","addEventListener","e","handleKeyEvent","handleMouseMove","char","toLowerCase","state","key","clientX","clientY","ParticleSystem","particles","amount","sizeScale","realAmount","i","angle","push","size","ticks","alpha","particle","globalAlpha","deleting","length","unshift","splice","Game","updateScoresCallback","ballActive","resetId","attach","moveToCenter","clearVelocity","id","setTimeout","setRandomVelocity","render","update","reset","App","canvasRef","useRef","useState","p1","setP1","p2","setP2","menu","setMenu","gameRef","useEffect","current","getContext","last","performance","now","cb","innerWidth","innerHeight","style","start","cancelAnimationFrame","removeEventListener","requestAnimationFrame","className","onClick","ref","transform","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c9a14fc.chunk.js","sourcesContent":["export function getDistance(x1, y1, x2, y2) {\r\n  if (!x2) x2 = 0;\r\n  if (!y2) y2 = 0;\r\n  return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\r\n}\r\n","export function getRandom(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\nexport function getRandomInteger(min, max) {\r\n  return Math.floor(getRandom(min, max));\r\n}\r\n","import Game from \"./Game\";\r\nimport { getDistance } from \"./math\";\r\nimport { getRandomInteger } from \"./random\";\r\n\r\nexport default class Player {\r\n  constructor(game) {\r\n    this.x = 100;\r\n    this.y = 100;\r\n    this.w = 10;\r\n    this.h = 100;\r\n    this.score = 0;\r\n\r\n    /**\r\n     * @type {Game}\r\n     */\r\n    this.game = game;\r\n\r\n    this.speed = 450;\r\n\r\n    this.randomTick = 0;\r\n    this.randomValue = 0;\r\n  }\r\n\r\n  moveToCenter() {\r\n    this.y = this.game.canvas.height / 2 - this.h / 2;\r\n  }\r\n\r\n  isControlling() {\r\n    return !this.game.demo && this === this.game.player1;\r\n  }\r\n\r\n  isCPU() {\r\n    return this.game.demo || this === this.game.player2;\r\n  }\r\n\r\n  getCenter() {\r\n    return [this.x + this.w / 2, this.y + this.h / 2];\r\n  }\r\n\r\n  render() {\r\n    this.game.ctx.fillStyle = \"#fff\";\r\n    this.game.ctx.fillRect(this.x, this.y, this.w, this.h);\r\n  }\r\n\r\n  update(delta) {\r\n    if (this.isCPU()) {\r\n      if (this.game.cpu) {\r\n        var opposing =\r\n          this === this.game.player1 ? this.game.player2 : this.game.player1;\r\n\r\n        var opposingDistance = getDistance(\r\n          this.x,\r\n          this.y,\r\n          opposing.x,\r\n          opposing.y\r\n        );\r\n        var ballDistance = getDistance(\r\n          this.x,\r\n          this.y,\r\n          this.game.ball.x,\r\n          this.game.ball.y\r\n        );\r\n\r\n        this.randomTick += delta;\r\n        if (this.randomTick > 4) {\r\n          this.randomTick = 0;\r\n\r\n          this.randomValue = getRandomInteger(-this.h / 2, this.h / 2);\r\n        }\r\n\r\n        if (ballDistance < opposingDistance / 2) {\r\n          var diff = Math.abs(\r\n            this.game.ball.y - (this.game.ball.y > this.y + this.h / 2)\r\n          );\r\n\r\n          if (diff > 5) {\r\n            if (this.game.ball.y > this.y + this.h / 2 + this.randomValue) {\r\n              this.y += delta * this.speed;\r\n            } else {\r\n              this.y -= delta * this.speed;\r\n            }\r\n          }\r\n        } else {\r\n          var diff = Math.abs(\r\n            this.game.canvas.height / 2 -\r\n              (this.y + this.h / 2 + this.randomValue)\r\n          );\r\n\r\n          if (diff > 5) {\r\n            if (\r\n              this.y + this.h / 2 + this.randomValue >\r\n              this.game.canvas.height / 2\r\n            ) {\r\n              this.y -= delta * this.speed;\r\n            } else {\r\n              this.y += delta * this.speed;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (this.game.inputManager.isKeyDown(\"ArrowUp\")) {\r\n          this.y -= delta * this.speed;\r\n        }\r\n        if (this.game.inputManager.isKeyDown(\"ArrowDown\")) {\r\n          this.y += delta * this.speed;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.isControlling()) {\r\n      if (this.game.inputManager.isKeyDown(\"w\")) {\r\n        this.y -= delta * this.speed;\r\n      }\r\n      if (this.game.inputManager.isKeyDown(\"s\")) {\r\n        this.y += delta * this.speed;\r\n      }\r\n    }\r\n\r\n    this.y = Math.min(this.game.canvas.height - this.h, Math.max(0, this.y));\r\n  }\r\n}\r\n","import Game from \"./Game\";\r\nimport Player from \"./Player\";\r\nimport { getRandom } from \"./random\";\r\n\r\nexport default class Ball {\r\n  constructor(game) {\r\n    this.x = 100;\r\n    this.y = 100;\r\n    this.r = 10;\r\n\r\n    this.vx = 0;\r\n    this.vy = 0;\r\n\r\n    /**\r\n     * @type {Game}\r\n     */\r\n    this.game = game;\r\n\r\n    this.trailTick = 0;\r\n    this.bounces = 0;\r\n  }\r\n\r\n  moveToCenter() {\r\n    this.x = this.game.canvas.width / 2;\r\n    this.y = this.game.canvas.height / 2;\r\n  }\r\n\r\n  clearVelocity() {\r\n    this.vx = 0;\r\n    this.vy = 0;\r\n\r\n    this.bounces = 0;\r\n  }\r\n\r\n  setRandomVelocity() {\r\n    var w = this.game.canvas.width / 4;\r\n    var h = this.game.canvas.height / 4;\r\n\r\n    this.vx = getRandom(w / 1.6, w) * (Math.random() > 0.5 ? 1 : -1);\r\n    this.vy = getRandom(h / 1.6, h) * (Math.random() > 0.5 ? 1 : -1);\r\n  }\r\n\r\n  bounceEffect(contactX, contactY) {\r\n    this.bounces++;\r\n\r\n    var bounceForce = Math.max(0.01, this.bounces / 200);\r\n\r\n    this.vx *= 1 + bounceForce;\r\n    this.vy *= 1 + bounceForce;\r\n\r\n    this.game.particleSystem.spawnParticles(\r\n      contactX ?? this.x,\r\n      contactY ?? this.y\r\n    );\r\n  }\r\n\r\n  render() {\r\n    this.game.ctx.beginPath();\r\n    this.game.ctx.fillStyle = \"#fff\";\r\n    this.game.ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);\r\n    this.game.ctx.fill();\r\n    this.game.ctx.closePath();\r\n  }\r\n\r\n  getSpeed() {\r\n    return Math.pow(Math.max(Math.abs(this.vx), Math.abs(this.vy)), 2);\r\n  }\r\n\r\n  update(delta) {\r\n    this.x += this.vx * delta;\r\n    this.y += this.vy * delta;\r\n\r\n    this.trailTick += delta;\r\n    if (this.trailTick * this.bounces > 100000 / this.getSpeed()) {\r\n      this.trailTick = 0;\r\n\r\n      this.game.particleSystem.spawnParticles(this.x, this.y, 1, 0.1);\r\n    }\r\n\r\n    // bounce off left wall\r\n    if (this.x < this.r) {\r\n      this.vx = Math.abs(this.vx);\r\n      this.x = this.r;\r\n\r\n      this.bounceEffect();\r\n    }\r\n\r\n    // bounce off top wall\r\n    if (this.y < this.r) {\r\n      this.vy = Math.abs(this.vy);\r\n      this.y = this.r;\r\n      this.bounceEffect();\r\n    }\r\n\r\n    // bounce off right wall\r\n    if (this.x > this.game.canvas.width - this.r) {\r\n      this.vx = -Math.abs(this.vx);\r\n      this.x = this.game.canvas.width - this.r;\r\n      this.bounceEffect();\r\n    }\r\n\r\n    // bounce off bottom wall\r\n    if (this.y > this.game.canvas.height - this.r) {\r\n      this.vy = -Math.abs(this.vy);\r\n      this.y = this.game.canvas.height - this.r;\r\n      this.bounceEffect();\r\n    }\r\n\r\n    // bounce off P1 paddle\r\n    if (this.collidesWithRect(this.game.player1)) {\r\n      this.handleCollision(this.game.player1);\r\n    }\r\n\r\n    // bounce off P2 paddle\r\n    if (this.collidesWithRect(this.game.player2)) {\r\n      this.handleCollision(this.game.player2);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {Player} player\r\n   * @returns\r\n   */\r\n  handleCollision(player) {\r\n    var center = player.getCenter();\r\n\r\n    var angleRadians = Math.atan2(this.y - center[1], this.x - center[0]);\r\n\r\n    var max = Math.max(Math.abs(this.vx), Math.abs(this.vy));\r\n\r\n    var vector = [Math.cos(angleRadians) * max, Math.sin(angleRadians) * max];\r\n\r\n    this.vx = vector[0];\r\n    this.vy = vector[1];\r\n\r\n    if (player === this.game.player1) {\r\n      if (this.vx < max) {\r\n        this.vx = max;\r\n      }\r\n\r\n      this.bounceEffect(player.x + player.w, this.y);\r\n    } else if (player === this.game.player2) {\r\n      if (this.vx < -max) {\r\n        this.vx = -max;\r\n      }\r\n\r\n      this.bounceEffect(player.x - 2, this.y);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {Player} rect\r\n   * @returns\r\n   */\r\n  collidesWithRect(rect) {\r\n    var circle = this;\r\n\r\n    var distX = Math.abs(circle.x - rect.x - rect.w / 2);\r\n    var distY = Math.abs(circle.y - rect.y - rect.h / 2);\r\n\r\n    if (distX > rect.w / 2 + circle.r) {\r\n      return false;\r\n    }\r\n    if (distY > rect.h / 2 + circle.r) {\r\n      return false;\r\n    }\r\n\r\n    if (distX <= rect.w / 2) {\r\n      return true;\r\n    }\r\n    if (distY <= rect.h / 2) {\r\n      return true;\r\n    }\r\n\r\n    var dx = distX - rect.w / 2;\r\n    var dy = distY - rect.h / 2;\r\n    return dx * dx + dy * dy <= circle.r * circle.r;\r\n  }\r\n}\r\n","export default class InputManager {\r\n  constructor() {\r\n    this.keyboard = Object.create(null);\r\n    this.mousePosition = [];\r\n\r\n    this.events = [];\r\n  }\r\n\r\n  attach() {\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      this.handleKeyEvent(e, true);\r\n    });\r\n\r\n    window.addEventListener(\"keyup\", (e) => {\r\n      this.handleKeyEvent(e, false);\r\n    });\r\n\r\n    window.addEventListener(\"mousemove\", (e) => {\r\n      this.handleMouseMove(e);\r\n    });\r\n  }\r\n\r\n  isKeyDown(char) {\r\n    return !!this.keyboard[char.toLowerCase()];\r\n  }\r\n\r\n  getMousePosition() {\r\n    return this.mousePosition;\r\n  }\r\n\r\n  /**\r\n   * @param {KeyboardEvent} e\r\n   * @param {boolean} state\r\n   */\r\n  handleKeyEvent(e, state) {\r\n    this.keyboard[e.key.toLowerCase()] = state;\r\n  }\r\n\r\n  /**\r\n   * @param {MouseEvent} e\r\n   */\r\n  handleMouseMove(e) {\r\n    this.mousePosition = [e.clientX, e.clientY];\r\n  }\r\n}\r\n","import Game from \"./Game\";\r\nimport { getRandom, getRandomInteger } from \"./random\";\r\n\r\nexport default class ParticleSystem {\r\n  constructor(game) {\r\n    /**\r\n     * @type {Game}\r\n     */\r\n    this.game = game;\r\n\r\n    /**\r\n     * @type {Array.<{ x: number, y: number, size: number, ticks: number, vx: number, vy: number, alpha: number }>}\r\n     */\r\n    this.particles = [];\r\n  }\r\n\r\n  spawnParticles(x, y, amount = 5, sizeScale = 1) {\r\n    var realAmount =\r\n      amount === 1 ? amount : getRandomInteger(amount * 0.9, amount * 1.1);\r\n\r\n    for (var i = 0; i < realAmount; i++) {\r\n      var angle = getRandom(0, Math.PI * 2);\r\n      var speed = getRandom(0.1, 6);\r\n\r\n      var dx = Math.cos(angle) * getRandom(3, 5);\r\n      var dy = Math.sin(angle) * getRandom(3, 5);\r\n\r\n      this.particles.push({\r\n        x: x + dx,\r\n        y: y + dy,\r\n        size: getRandom(3, 6 * sizeScale),\r\n        ticks: getRandom(0, 1),\r\n        vx: Math.cos(angle) * speed,\r\n        vy: Math.sin(angle) * speed,\r\n        alpha: getRandom(0, 0.1),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    for (var particle of this.particles) {\r\n      this.game.ctx.globalAlpha = particle.alpha;\r\n\r\n      this.game.ctx.fillStyle = \"#fff\";\r\n      this.game.ctx.fillRect(\r\n        particle.x,\r\n        particle.y,\r\n        particle.size,\r\n        particle.size\r\n      );\r\n    }\r\n\r\n    this.game.ctx.globalAlpha = 1;\r\n  }\r\n\r\n  update(delta) {\r\n    var deleting = [];\r\n\r\n    for (var i = 0; i < this.particles.length; i++) {\r\n      var particle = this.particles[i];\r\n\r\n      particle.x += delta * particle.vx;\r\n      particle.y += delta * particle.vy;\r\n\r\n      particle.ticks += delta;\r\n\r\n      if (particle.ticks > 3) {\r\n        particle.size -= delta;\r\n\r\n        if (particle.size < 0.01 || particle.alpha < 0.01) {\r\n          deleting.unshift(i);\r\n        }\r\n      } else if (particle.alpha < 1) {\r\n        particle.alpha += delta * 3;\r\n      }\r\n    }\r\n\r\n    for (var i = 0; i < deleting.length; i++) {\r\n      this.particles.splice(deleting[i], 1);\r\n    }\r\n  }\r\n}\r\n","import Ball from \"./Ball\";\r\nimport InputManager from \"./InputManager\";\r\nimport ParticleSystem from \"./ParticleSystem\";\r\nimport Player from \"./Player\";\r\n\r\nexport default class Game {\r\n  constructor(canvas, ctx, updateScoresCallback) {\r\n    /**\r\n     * @type {HTMLCanvasElement}\r\n     */\r\n    this.canvas = canvas;\r\n\r\n    /**\r\n     * @type {CanvasRenderingContext2D}\r\n     */\r\n    this.ctx = ctx;\r\n\r\n    this.updateScoresCallback = updateScoresCallback;\r\n\r\n    this.inputManager = new InputManager();\r\n    this.particleSystem = new ParticleSystem(this);\r\n\r\n    this.player1 = new Player(this);\r\n    this.player2 = new Player(this);\r\n    this.ball = new Ball(this);\r\n\r\n    this.ballActive = false;\r\n\r\n    this.demo = true;\r\n    this.cpu = true;\r\n\r\n    this.resetId = \"\";\r\n  }\r\n\r\n  start() {\r\n    this.inputManager.attach();\r\n  }\r\n\r\n  reset() {\r\n    this.updateScoresCallback(this.player1.score, this.player2.score);\r\n    this.ball.moveToCenter();\r\n    this.ball.clearVelocity();\r\n    this.ballActive = false;\r\n    this.particleSystem.particles = [];\r\n\r\n    // Hacky way to ensure this setTimeout only runs once, a better solution would be to use cancelTimeout\r\n    var id = {};\r\n    this.resetId = id;\r\n\r\n    setTimeout(() => {\r\n      if (this.resetId === id) {\r\n        this.ball.setRandomVelocity();\r\n        this.ball.bounceEffect();\r\n        this.ballActive = true;\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  render() {\r\n    this.ctx.fillStyle = \"#222\";\r\n    this.ctx.fillRect(this.canvas.width / 2 - 1, 0, 2, this.canvas.height);\r\n\r\n    this.player1.render();\r\n    this.player2.render();\r\n    this.ball.render();\r\n    this.particleSystem.render();\r\n  }\r\n\r\n  update(delta) {\r\n    this.player1.update(delta);\r\n    this.player2.update(delta);\r\n\r\n    if (this.ballActive) {\r\n      this.ball.update(delta);\r\n    }\r\n    this.particleSystem.update(delta);\r\n\r\n    // game logic\r\n\r\n    // player 1 loses\r\n    if (this.ball.x + this.ball.r < this.player1.x) {\r\n      this.player2.score++;\r\n      this.reset();\r\n    }\r\n\r\n    // player 2 loses\r\n    if (this.ball.x - this.ball.r > this.player2.x + this.player2.w) {\r\n      this.player1.score++;\r\n      this.reset();\r\n    }\r\n  }\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\nimport Game from \"./Game\";\n\nfunction App() {\n  var canvasRef = useRef();\n\n  var [p1, setP1] = useState(0);\n  var [p2, setP2] = useState(0);\n\n  /**\n   * Show menu\n   */\n  var [menu, setMenu] = useState(false);\n  var gameRef = useRef();\n\n  useEffect(() => {\n    /**\n     * @type {HTMLCanvasElement}\n     */\n    var canvas = canvasRef.current;\n    if (!canvas) {\n      return;\n    }\n\n    /**\n     * @type {CanvasRenderingContext2D}\n     */\n    var ctx = canvas.getContext(\"2d\");\n\n    var last = performance.now();\n\n    var game = new Game(canvas, ctx, (p1, p2) => {\n      setP1(p1);\n      setP2(p2);\n    });\n    gameRef.current = game;\n\n    var cb = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n\n      canvas.style.width = window.innerWidth + \"px\";\n      canvas.style.height = window.innerHeight + \"px\";\n\n      game.player2.x = window.innerWidth - 100;\n    };\n    cb();\n\n    game.player1.moveToCenter();\n    game.player2.moveToCenter();\n    game.ball.moveToCenter();\n\n    function update() {\n      var now = performance.now();\n      var delta = (now - last) / 1000;\n      last = now;\n\n      ctx.fillStyle = \"#000\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      game.update(delta);\n      game.render();\n\n      requestAnimationFrame(update);\n    }\n\n    update();\n\n    setTimeout(() => {\n      game.start();\n      game.reset();\n      setMenu(true);\n    }, 100);\n\n    window.addEventListener(\"resize\", cb);\n\n    return () => {\n      cancelAnimationFrame(update);\n      window.removeEventListener(\"resize\", cb);\n    };\n  }, []);\n\n  return (\n    <div className={!menu ? \"hide-cursor\" : \"\"}>\n      <div className={\"main-menu\" + (menu ? \" main-menu-show\" : \"\")}>\n        <h1>Pong</h1>\n        <p>by: MichaelXF</p>\n\n        <button\n          className='main-btn'\n          onClick={() => {\n            // Start game for Player vs. CPU\n            gameRef.current.player1.score = 0;\n            gameRef.current.player2.score = 0;\n            gameRef.current.particleSystem.particles = [];\n            gameRef.current.player1.moveToCenter();\n            gameRef.current.player2.moveToCenter();\n            gameRef.current.ball.moveToCenter();\n            gameRef.current.demo = false;\n            gameRef.current.cpu = true;\n            gameRef.current.reset();\n            setMenu(false);\n          }}\n        >\n          Player vs. CPU\n        </button>\n        <button\n          className='main-btn'\n          onClick={() => {\n            // Start game for Player vs. Player\n            gameRef.current.player1.score = 0;\n            gameRef.current.player2.score = 0;\n            gameRef.current.particleSystem.particles = [];\n            gameRef.current.player1.moveToCenter();\n            gameRef.current.player2.moveToCenter();\n            gameRef.current.ball.moveToCenter();\n            gameRef.current.demo = false;\n            gameRef.current.cpu = false;\n            gameRef.current.reset();\n            setMenu(false);\n          }}\n        >\n          Player vs. Player\n        </button>\n      </div>\n\n      <canvas ref={canvasRef} />\n\n      <div className='scoreboard'>\n        <div className='scoreboard-p1'>{p1}</div>\n        <div className='scoreboard-p2'>{p2}</div>\n      </div>\n\n      <div className='controls'>\n        <div className='controls-p1'>\n          <kbd>W</kbd>\n          <kbd>S</kbd>\n        </div>\n        <div className='controls-p2'>\n          {gameRef?.current?.cpu ? (\n            <kbd>CPU</kbd>\n          ) : (\n            <>\n              <kbd>ðŸ •</kbd>\n              <kbd>\n                <span\n                  style={{\n                    transform: \"translate(0, 2px)\",\n                    display: \"inline-block\",\n                  }}\n                >\n                  ðŸ —\n                </span>\n              </kbd>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}